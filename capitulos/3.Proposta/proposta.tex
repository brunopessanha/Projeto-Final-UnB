\chapter{Classificação de Recursos na DSOA}

A padronização de recursos é de fundamental importância para \emph{frameworks} que se utilizam da descoberta dinâmica de recursos em determinado momento e contexto. Tal padronização é mais do que uma simples tarefa de nomear recursos, pois uma aplicação cliente precisa saber como interagir com eles por meio de suas interfaces. Uma classificação deve responder as seguintes questões ~\cite{pervasiveComputing} para garantir a semântica entre as partes envolvidas:

\begin{itemize}
	\item O que os clientes esperam de uma instância de um recurso do tipo X?

	\item Quais serviços são apropriados para os recursos do tipo X?

	\item Quais protocolos uma instância do tipo X utiliza?
\end{itemize}

A partir dessas respostas, novos \emph{drivers} poderão ser construídos seguindo-se a definição inicial do recurso com seus serviços apropriados, possibilitando diferentes implementações do mesmo \emph{driver}; além disso, os protocolos são essenciais para definir a forma e o meio de comunicação entre dispositivos. Dessa maneira, a classificação de recursos facilitará o desenvolvimento de novos \emph{drivers} para futuras aplicações, pois possibilitará a definição de interfaces pré-estabelecidas que representem classes de recursos. Outra vantagem decorrente é a possibilidade de seleção de recursos equivalentes, caso o provedor originalmente selecionado esteja indisponível.

Conforme visto na seção ~\ref{sec:comparativo}, foram extraídas as características mais vantajosas dos padrões existentes e a partir delas construiu-se uma classificação que seja relacionada, extensível, que permita a um recurso pertencer à multiplas classes simultaneamente e cuja representação seja via JSON (\emph{JavaScript Object Notation}). Esta nova classificação é estabelecida por:

\begin{itemize}
	\item Forma de classificação

	Optou-se por uma classificação relacionada, em que classes de recursos podem se relacionar umas com as outras utilizando-se herança ou composição. A primeira possibilita a extensão, em que interfaces previamente estabelecidas seriam utilizadas na elaboração de novos \emph{drivers}. Obtêm-se, com isso, a possibilidade da utilização de polimorfismo e a vantagem de que cada classe represente exatamente um objeto tão simples quanto possível, almejando-se obter uma alta coesão e um baixo acoplamento. A segunda permite que uma classe contenha, em sua definição, zero ou mais classes. Dessa forma, torna-se possível a delegação de responsabilidades para serviços existentes em outras classes outrora estabelecidas, evitando tanto a repetição de código como um alto acoplamento.

	\item Representação

	Em um ambiente cujos dispositivos podem se movimentar livremente e seus recursos devem ser compartilhados de forma transparente ao usuário, torna-se necessário que cada dispositivo presente na rede possa se comunicar facilmente com os demais. Atualmente, o \emph{uOS} já utiliza JSON em suas trocas de mensagens devido a sua portabilidade e leveza. Por esta razão, o padrão foi mantido.

	\begin{comment}
	Tal formato apresenta as seguintes características:
	
		\begin{itemize}
	 		\item Baixo custo computacional~\cite{comparativojson};
	 		\item É auto-descritivo, o que facilita os processos de leitura e escrita por seres-humanos~\cite{json};
	 		\item É estruturado, o que facilita sua criação e análise por computadores~\cite{json};
	 		\item É independente de plataforma, pois utiliza UTF-8 como codificação~\cite{utf8}.
	 	\end{itemize}
	 \end{comment}
\end{itemize}

Além da definição da forma de classificação e da representação utilizada, a classificação de recursos para a DSOA construída também possui um conjunto de tipos básicos e extensíveis, apresentado na seção~\ref{sec:tiposBasicos}, e uma relação de equivalência entre eles, detalhada na seção~\ref{sec:equivalenciaRecursos}. Como era de se esperar, as alterações na DSOA acabam por impactar no protocolo \emph{uP} e no middleware \emph{uOS}, como estes são baseados na arquitetura. Sendo assim, na seção~\ref{sec:impactoUOS} será apresentado o impacto em cada um destes elementos.

\section{Tipos Básicos}
\label{sec:tiposBasicos}

A definição de um conjunto de tipos básicos auxilia na criação de novos dispositivos. Com base nesta classificação é possível adequar-se aos padrões pré-estabelecidos na criação de novos drivers, além de assegurar que as aplicações terão um dicionário comum de elementos raiz a serem utilizados. Com base nos tipos exibidos na tabela~\ref{tab:comparativoClasses} definiu-se os seguintes tipos básicos da DSOA:

\begin{itemize}
	\item Cliente de Áudio
		
		Abrange quaisquer tipos de dispositivos que contenham a capacidade de reproduzir áudio Exemplo: caixas de som, fones de ouvido;
	\item Servidor de Áudio
		
		Abrange quaisquer tipos de dispositivos que possam operar como servidor de áudio Exemplo: microfones, tocadores de mp3;
	\item Cliente de Vídeo
		
		Abrange quaisquer tipos de dispositivos que possuam a capacidade de prover um recurso de renderização de vídeo. Exemplo: TVs, monitores, telas de celular;
	\item Servidor de Vídeo
		
		Abrange quaisquer tipos de dispositivos que possuam operar como servidor de vídeo. Exemplo: tocadores de DVD, set-top boxes;
	\item Display de Imagem
		
		Abrange quaisquer tipos de dispositivos que possam prover um recurso de renderização de imagem. Exemplo: impressoras, TVs, monitores;
	\item Servidor Imagem
		
		Abrange quaisquer tipos de dispositivos que possam operar como servidor de imagem. Exemplo: câmeras digitais, \emph{scanners};
	\item Teclado
		
		Abrange quaisquer tipos de dispositivos que possam prover um recurso de teclado. Exemplo: teclados e dispositivos de reconhecimento gestual;
	\item Apontador
		
		Abrange quaisquer tipos de dispositivos que possuam o recurso de apontadores. Exemplo: \emph{mouses}, telas sensíveis ao toque, \emph{joysticks};
\end{itemize}

Tal definição é importante pois é ela que permitirá um agrupamento de recursos em torno de suas funcionalidades, a saber, os seus serviços. Seu valor ficará mais claro com a leitura das próximas seções, nas quais os conceitos de ``Equivalência de recursos'' e ``Árvore de Equivalência'' serão apresentados.

\begin{comment}
Suponha que um usuário, por meio de uma aplicação de seu celular, deseja utilizar os serviços providos de um recurso de imagem. Considere ainda, que existam três instâncias disponíveis deste recurso no \emph{smart space}. Para garantir a equivalência dos recursos devemos garantir que eles possuam os mesmos serviços, e para isso, devemos garantir que os serviços possuam a mesma interface, ou seja, os mesmos tipos e número de parâmetros. Suponha que para o usuário que deseja o recurso simples de imagem seja indiferente a quantidade de \emph{megapixels} da imagem. Para o usuário basta apenas o provimento do serviço que retorne algum dado ou altere o estado de alguma aplicação. Dessa forma, devemos garantir que qualquer uma das três instâncias possam prover esse serviço. Uma câmera com \emph{flash}, por exemplo, para este cenário, seria equivalente a um recurso de câmera sem \emph{flash}.
\end{comment}

\input{capitulos/3.Proposta/equivalencia}
\input{capitulos/3.Proposta/impacto}

