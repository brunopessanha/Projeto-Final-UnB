\chapter{Classificação de dispositivos}

Num ambiente em que dispositivos podem se movimentar livremente e cujos serviços devem ser compartilhados de forma transparente ao usuário, torna-se necessário que cada dispositivo presente na rede possa se comunicar facilmente com os demais, independente de quais tecnologias, padrões ou protocolos tenham sido adotados. É fundamental que essa comunicação seja feita de forma tão rápida e confiável quanto possível, pois toda atividade do \emph{middleware} com seus clientes depende dela, inclusive o processo de classificação dos recursos disponíveis no \emph{smart space}, ideia central deste documento.

\section{Formas de classificação}

Existem duas formas principais de realizar a classificação de dispositivos pretendida:

\begin{itemize}
	\item Fixa:
		Conjunto fixo de classificações não relacionadas.
	\item Relacionada:
		Estabelece relações entre os tipos básicos pré-definidos e suas especializações.

\end{itemize}

As classificações de forma Relacionada possuem a vantagem de reutilizar atributos definidos em outras classes e de poder adicionar novos atributos especializando os tipos relacionados, o que evita redundância na definição das classes. Enquanto as classificações de forma Fixa possuem a vantagem de serem mais simples de serem definidas.

Uma importante propriedade de uma classificação é a hierarquia, ou seja, uma representação em que as categorias da classificação podem ser especializadas formando novas categorias mais específicas, com diferentes atributos. Existem diferentes maneiras conhecidas de se representar uma hierarquia de forma a relacionar categorias que tenham atributos em comum: arquivos no formato XML, hierarquia de classes, ontologia ou simplesmente não utilizar uma hierarquia onde as categorias não tem relações entre si, caso da forma Fixa de classificação.

O XML (\emph{Extensible Markup Language}), como seu próprio nome sugere, pode ser estendido e dessa forma, é possível montar uma hierarquia de arquivos XML. O seu uso para descrever um tipo de dispositivo tem a vantagem de ser independente de plataformas de hardware ou software e, devido sua formatação, possui uma boa legibilidade, não necessitando de um pré-processamento por parte de um computador para seu conteúdo se tornar compreensível. Esse formato possui, contudo, a desvantagem de repetir uma grande quantidade de informação o que pode prejudicar a velocidade de comunicação entre dispositivos que o utilizem. Outro fator que deve ser levado em consideração é que o conjunto de protocolos \emph{uP} (\emph{Ubiquitous Protocols}) do \emph{middleware} \emph{uOS} utiliza o formato JSON para troca de mensagens, um mecanismo mais leve, e ainda assim estruturado, para representar informação.

A Hierarquia de Classes é amplamente utilizada em Programação Orientada à Objetos. Uma classe possui atributos ou propriedades e uma outra classe pode herdar esses atributos e criar uma especialização dessa classe raiz, à esse relacionamento dá-se o nome de Herança. Dependendo da linguagem orientada utilizada, uma Classe pode herdar métodos e atributos de várias outras Classes, formando uma herança múltipla de classes, ou então poderá cada Subclasse poderá herdar de apenas uma outra Classe, não podendo, entretanto, ocorrer uma herança circular, onde uma Classe A herda de uma Classe B, que por sua vez herda atributos de uma Classe C que especializa a Classe A. Uma Hierarquia de Classes forma, portanto, uma espécie de árvore de classes.

Ontologia é uma descrição formal de conceitos (classes) em um determinado domínio. Esses conceitos possuem propriedades, que descrevem atributos, características e restrições. De forma semelhante à orientação à objetos, conceitos podem possuir subclasses que especializam a classe superior. A Ontologia já permite uma herança múltipla de classes, e novos conceitos podem ser construídos por meio do relacionamento entre classes. Para construir uma Ontologia deve-se definir as classes do domínio, distribuir as classes de forma hierárquica, definir valores e restrições para suas propriedades e utilizar esses valores nas instâncias das classes da Ontologia. 

\begin{comment}
Dessa forma, temos uma base de conhecimento. As Ontologias se tornaram populares na Web por dividir produtos em categorias e em características em sites de venda, e atualmente são utilizadas para compartilhar informação entre pessoas e agentes inteligentes. Uma antologia provê reutilização de conhecimento e torna explícitas as hipóteses sobre um domínio e análise do domínio.
\end{comment}


\section{Padrões}
%Apresentar os padrões. Focar nas classificações feitas por eles, pontos fortes e fracos.

Nesta seção, discutir-se-á cinco dos principais protocolos e/ou padrões pesquisados que fazem uso de uma classificação de recursos e utilizam as estratégias supracitadas para representar sua hierarquia de recursos: UPnP, IEEE 1451, DLNA, USB e \emph{Bluetooth}.

\input{capitulos/2.FundamentacaoTeorica/upnp}
\input{capitulos/2.FundamentacaoTeorica/ieee1451}
\input{capitulos/2.FundamentacaoTeorica/dlna}
\input{capitulos/2.FundamentacaoTeorica/usb}
\input{capitulos/2.FundamentacaoTeorica/bluetooth}
\input{capitulos/2.FundamentacaoTeorica/ddl}

\section{Estado da Arte}
Nesta seção, apresentaremos alguns projetos de computação ubíqua e mostraremos como esses projetos tratam a classificação de recursos.

\input{capitulos/2.FundamentacaoTeorica/gaia}
\input{capitulos/2.FundamentacaoTeorica/amigo}
\input{capitulos/2.FundamentacaoTeorica/gator}

\section{Comparativo}
%Apresentar um Comparativo entre as estratégias e conclusões que embasem a definição da proposição de vcs no capítulo seguinte.
Nesta seção faremos um comparativo dos padrões mostrados de forma a embasar a classificação de recursos que será proposta no próximo capítulo. A tabela~\ref{tab:comparativo} mostra uma comparação dos padrões quanto a: forma de classificação de recursos, como a classificação é representada, se a classificação pode ser extendida e se um dispositivo pode fazer parte de mais de uma classe.

\begin{table}
	\begin{center}
	\resizebox{16cm}{!} {
		\begin{tabular}{ccccccc}
		\hline
							& \textbf{IEEE 1451}	& \textbf{Bluetooth} 	& \textbf{USB}	& \textbf{UPnP} & \textbf{DLNA} & \textbf{DDL}\\
		\hline
		\hline
		Classificação 		& Relacionada 			& Fixa 					& Relacionada 	& Relacionada 	& Relacionada 	& Fixa \\
		\hline
		Representação 		& IDL 					&						& Descritor		& XML			& XML 			& XML \\ 
		\hline
		Extensível 			& Não 					& Não 					& Sim 			& Sim 			& "Não" 		& Não \\
		\hline
		Múltiplas Classes 	& Sim 					&						& Sim 			& Não 			& Sim 			& Não \\
		\hline
		\end{tabular}
	}
	\end{center}
	\caption{Comparativo dos Padrões.}
	\label{tab:comparativo}
\end{table}
 
Como pode ser observado, os padrões existentes para a classificação de recursos mostrados neste trabalho são todos estruturados, ou seja, não foi utilizada uma forma dinâmica como uma Ontologia para representar essa classificação. A tabela~\ref{tab:comparativo} mostra que a maioria dos padrões faz uso de uma classificação Relacionada, pois possui a vantagem de aproveitar propriedades já definidas. Além disso, é comum a representação da classificação em arquivos XML, que embora seja independente de plataforma, tem a desvantagem de possuir uma relevante redundância de dados na sua formatação. Embora a classificação de alguns padrões possua a capacidade de ser extensível, é necessário que a nova classe criada pelos fabricantes do dispositivos passe por uma homologação. Caso do UPnP. O USB, embora possua subclasses derivadas na sua especificação, não permite novas definições fora do padrão. Em geral, são pouco flexivéis. 

A tabela mostra ainda uma limitação da DDL (\emph{Device Description Language}), criada para reduzir a complexidade na definição de dispositivos via classes Java, pois, para cada dispositivo que não seja sensor ou atuador, se faz necessária a criação de uma nova classe para esse dispositivo complexo não relacionada com outras que já tenham sido criadas. Outro fator que impede o uso de subclasses é o fato de na definição do dispositivo, estarem definidos também seus serviços, modelados como operações. Se um dispositivo possuir apenas uma operação que receba parâmetros diferentes, a classe anteriormente definida não poderá ser reutilizada. 

\begin{table}
	\begin{center}
		\begin{tabular}{ccccc}
		\hline
									& \textbf{Bluetooth} 	& \textbf{USB}	& \textbf{UPnP} & \textbf{DLNA} \\
		\hline
		\hline
		Áudio						&						&	x			&	x 			&	x			\\
		\hline
		Vídeo						&						&	x			&	x			&	x			\\
		\hline
		Servidor de mídia			&						&				&	x 			&	x			\\
		\hline
		Tocador de mídia			&						&				&	x			&	x			\\
		\hline
		Impressora 					&						&	x			&	x			&	x			\\
		\hline
		Scanner						&						&	x			&	x			&				\\
		\hline
		Armazenamento				&						&	x			&				&				\\
		\hline
		Câmera Digital				&						&	?			&	x			&	x			\\
		\hline
		Telefone/PDAs				&						&	?			&	x			&	x			\\
		\hline
		Teclado						&						&	x			&				&				\\
		\hline
		Apontadores					&						&	x			&				&				\\
		\hline
		Específico do fabricante 	&						&	x			&	x			&				\\
		\hline								
		\end{tabular}
	\end{center}
	\caption{Classes presentes nos padrões.}
	\label{tab:comparativoClasses}
\end{table}

A tabela~\ref{tab:comparativoClasses} mostra os principais dispositivos que possuem alguma classe associada nos padrões estudados. O padrão DDL não foi considerado no comparativo de classes devido sua classificação possuir apenas três categorias: sensores, atuadores e dispositivos complexos. Portanto, todos os dispositivos considerados neste comparativo poderiam se encaixar na última categoria. O padrão IEEE 1451 também não foi utilizado no comparativo, pois foi criado para facilitar a comunicação de transdutores, e suas classes não abrangem os dispositivos da tabela.

